---
layout: post
title: mahout使用
description: mahout基本使用，聚类，推荐，及文件格式解析
tags: [mahout, kmeans, hadoop]
image:
  background: triangular.png
comments: true
share: true
---

###Mahout介绍

Apache Mahout 是 Apache Software Foundation (ASF) 开发的一个全新的开源项目，其主要目标是创建一些可伸缩的机器学习算法，供开发人员在 Apache 在许可下免费使用。Mahout 包含许多实现，包括集群、分类、CP 和进化程序。此外，通过使用 Apache Hadoop 库，Mahout 可以有效地扩展到云中。2012年6月16日，Mahout已经发布0.7版本，支持分布式协同过滤、K-means聚类、bayes分类等功能。

虽然在开源领域中相对较为年轻，但 Mahout 已经提供了大量功能，特别是在集群和 CF 方面。Mahout 的主要特性包括：

1. Taste CF。Taste 是 Sean Owen 在 SourceForge 上发起的一个针对 CF 的开源项目，并在 2008 年被赠予 Mahout。
2. 一些支持Map-Reduce 的集群实现包括 k-Means、模糊 k-Means、Canopy、Dirichlet 和 Mean-Shift。
3. Distributed Naive Bayes 和 Complementary Naive Bayes 分类实现。
4. 针对进化编程的分布式适用性功能。
5. Matrix 和矢量库。
6. 上述算法的示例

实验中发现，Mahout 0.5及以前版本在写文件时存在严重bug，在大数据量的情况下会出现数据丢失，建议使用0.6及以上版本。

更多详细介绍，参看[官网](https://mahout.apache.org/), 及IBM的[介绍](http://www.ibm.com/developerworks/cn/java/j-mahout/)

###kmeans聚类算法

####mahout安装及部署

首先需要搭建hadoop环境，然后到mahout官网(http://mahout.apache.org/)上下载mahout-distribution-0.7.tar.gz，这个是已经编译好的包，如果下的是源码包，则需要安装maven来编译。

其次，需要设置环境变量sudo vi /etc/profile例如：
{% highlight html %}
export HADOOP_HOME=/home/guang/Desktop/tools/hadoop-0.20.2
export HADOOP_CONF_DIR=/home/guang/Desktop/tools/hadoop-0.20.2/conf
export MAHOUT_HOME=/home/guang/Desktop/tools/mahout-distribution-0.7
export PATH=$HADOOP_HOME/bin:$MAHOUT_HOME/bin:$PATH
{% endhighlight %}

最后，测试hadoop，出现以下内容则hadoop能够正常运行：
![image](https://github.com/lemonQin/lemonqin.github.com/tree/master/images/mahout-1.jpg)

测试mahout，出现以下内容则hadoop能够正常运行：
![image](https://github.com/lemonQin/lemonqin.github.com/tree/master/images/mahout-2.jpg)
其中列出了mahout可以运行的算法及简介。至此，mahout部署完成。

####mahout kmeans文本聚类







